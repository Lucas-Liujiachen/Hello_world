# 编译流程

## 一、编译的过程

编译分为四步：预处理（预编译）、编译、汇编、链接，静态链接和动态链接属于链接部分。

编译前三步：

1. 预处理。编译器对源文件进行预处理（例如宏定义、#include、预编译指令#ifdef等），生成.i文件。
2. 编译。编译器对.i文件进行词法分析、语法分析和语义分析等主体过程，生成.s汇编文件。
3. 汇编。编译器将.s文件中对应的汇编指令翻译成机器指令，生成可重定位的二进制目标文件，生成.o文件。

现代编译器将一个源代码文件编译成一个未链接的目标文件，然后有链接器将这些目标文件连接起来生成可执行文件。

链接过程中要用到链接脚本（如.ld文件）或者其他配置文件来规定一些事情。这里面会设置生成输出文件的格式、结构、属性。
